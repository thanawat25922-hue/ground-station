<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Web Ground Station</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:#0b0f1a;
    color:white;
}

.header{
    background:#111827;
    padding:15px;
    font-size:22px;
    font-weight:bold;
    text-align:center;
    border-bottom:2px solid #1f2937;
}

.container{
    display:grid;
    grid-template-columns:300px 1fr;
    gap:15px;
    padding:15px;
}

.left-panel{
    display:flex;
    flex-direction:column;
    gap:12px;
}

.block{
    background:#111827;
    padding:12px;
    border-radius:10px;
    border:1px solid #1f2937;
}

.block-title{
    font-size:13px;
    color:#9ca3af;
}

.block-value{
    font-size:24px;
    font-weight:bold;
    margin-top:5px;
}

.graphs{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:15px;
}

.graph-box{
    background:#111827;
    border-radius:10px;
    padding:10px;
    border:1px solid #1f2937;
}

canvas{
    background:#0b0f1a;
    border-radius:8px;
}

</style>
</head>

<body>

<div class="header">WEB GROUND STATION</div>

<div class="container">

    <!-- LEFT PANEL -->
    <div class="left-panel">

        <div class="block">
            <div class="block-title">MISSION TIME</div>
            <div class="block-value" id="mission">00:00:00</div>
        </div>

        <div class="block">
            <div class="block-title">ALTITUDE</div>
            <div class="block-value" id="altitude">0 m</div>
        </div>

        <div class="block">
            <div class="block-title">TEMPERATURE</div>
            <div class="block-value" id="temperature">0 °C</div>
        </div>

        <div class="block">
            <div class="block-title">VOLTAGE</div>
            <div class="block-value" id="voltage">0 V</div>
        </div>

        <div class="block">
            <div class="block-title">PRESSURE</div>
            <div class="block-value" id="pressure">0 hPa</div>
        </div>

    </div>

    <!-- GRAPHS -->
    <div class="graphs">
        <div class="graph-box"><canvas id="altChart"></canvas></div>
        <div class="graph-box"><canvas id="tempChart"></canvas></div>
        <div class="graph-box"><canvas id="voltChart"></canvas></div>
        <div class="graph-box"><canvas id="presChart"></canvas></div>
    </div>

</div>

<script>

// ===== REAL CLOCK =====
function updateRealTime(){
    let now = new Date();
    let h = String(now.getHours()).padStart(2,'0');
    let m = String(now.getMinutes()).padStart(2,'0');
    let s = String(now.getSeconds()).padStart(2,'0');
    document.getElementById("mission").innerText =
        h+":"+m+":"+s;
}

// ===== CHART TEMPLATE =====
function createChart(id,label,unit){
    return new Chart(document.getElementById(id),{
        type:'line',
        data:{
            labels:[],
            datasets:[{
                label: label+" ("+unit+")",
                data:[],
                borderWidth:2,
                tension:0.3
            }]
        },
        options:{
            responsive:true,
            animation:false,
            scales:{
                x:{ticks:{color:"white"}},
                y:{ticks:{color:"white"}}
            },
            plugins:{
                legend:{labels:{color:"white"}}
            }
        }
    });
}

const altChart = createChart("altChart","Altitude","m");
const tempChart = createChart("tempChart","Temperature","°C");
const voltChart = createChart("voltChart","Voltage","V");
const presChart = createChart("presChart","Pressure","hPa");

let t = 0;

// ===== SIMULATED TELEMETRY =====
setInterval(()=>{

    updateRealTime();

    t++;

    let altitude = 100 + Math.sin(t/5)*20;
    let temperature = 30 + Math.sin(t/7)*3;
    let voltage = 7.4 + Math.sin(t/10)*0.2;
    let pressure = 1013 - altitude*0.12;

    document.getElementById("altitude").innerText =
        altitude.toFixed(1)+" m";

    document.getElementById("temperature").innerText =
        temperature.toFixed(1)+" °C";

    document.getElementById("voltage").innerText =
        voltage.toFixed(2)+" V";

    document.getElementById("pressure").innerText =
        pressure.toFixed(1)+" hPa";

    updateChart(altChart, altitude);
    updateChart(tempChart, temperature);
    updateChart(voltChart, voltage);
    updateChart(presChart, pressure);

},1000);


// ===== UPDATE GRAPH =====
function updateChart(chart,value){
    chart.data.labels.push("");
    chart.data.datasets[0].data.push(value);

    if(chart.data.labels.length>20){
        chart.data.labels.shift();
        chart.data.datasets[0].data.shift();
    }

    chart.update();
}

</script>

</body>
</html>
