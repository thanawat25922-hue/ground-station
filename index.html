<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Web Ground Station</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>

body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:#0a0f1c;
    color:white;
}

/* HEADER */
.header{
    background:#111827;
    padding:14px;
    font-size:22px;
    font-weight:bold;
    text-align:center;
    border-bottom:2px solid #1f2937;
}

/* LAYOUT */
.container{
    display:grid;
    grid-template-columns:280px 1fr;
    gap:15px;
    padding:15px;
}

/* LEFT PANEL */
.left{
    display:flex;
    flex-direction:column;
    gap:12px;
}

.card{
    background:#111827;
    border-radius:10px;
    padding:12px;
    border:1px solid #1f2937;
}

.label{
    font-size:12px;
    color:#9ca3af;
}

.value{
    font-size:26px;
    font-weight:bold;
    margin-top:4px;
}

/* GRAPH AREA */
.right{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:15px;
}

.graph{
    background:#111827;
    padding:10px;
    border-radius:10px;
    border:1px solid #1f2937;
}

canvas{
    background:#0a0f1c;
    border-radius:8px;
}

</style>
</head>

<body>

<div class="header">WEB GROUND STATION</div>

<div class="container">

    <!-- LEFT -->
    <div class="left">

        <div class="card">
            <div class="label">MISSION TIME</div>
            <div class="value" id="mission">00:00:00</div>
        </div>

        <div class="card">
            <div class="label">ALTITUDE</div>
            <div class="value" id="altitude">0 m</div>
        </div>

        <div class="card">
            <div class="label">TEMPERATURE</div>
            <div class="value" id="temperature">0 °C</div>
        </div>

        <div class="card">
            <div class="label">VOLTAGE</div>
            <div class="value" id="voltage">0 V</div>
        </div>

        <div class="card">
            <div class="label">PRESSURE</div>
            <div class="value" id="pressure">0 hPa</div>
        </div>

    </div>

    <!-- RIGHT -->
    <div class="right">
        <div class="graph"><canvas id="altChart"></canvas></div>
        <div class="graph"><canvas id="tempChart"></canvas></div>
        <div class="graph"><canvas id="voltChart"></canvas></div>
        <div class="graph"><canvas id="presChart"></canvas></div>
    </div>

</div>

<script>

/* ===== REAL CLOCK ===== */
function updateTime(){
    const now = new Date();
    const h = String(now.getHours()).padStart(2,'0');
    const m = String(now.getMinutes()).padStart(2,'0');
    const s = String(now.getSeconds()).padStart(2,'0');
    document.getElementById("mission").innerText =
        h+":"+m+":"+s;
}

/* ===== CREATE CHART ===== */
function makeChart(id,label,unit){
    return new Chart(document.getElementById(id),{
        type:'line',
        data:{
            labels:[],
            datasets:[{
                label: label+" ("+unit+")",
                data:[],
                borderWidth:2,
                tension:0.3
            }]
        },
        options:{
            responsive:true,
            animation:false,
            scales:{
                x:{ticks:{color:"white"}},
                y:{ticks:{color:"white"}}
            },
            plugins:{
                legend:{labels:{color:"white"}}
            }
        }
    });
}

const altChart = makeChart("altChart","Altitude","m");
const tempChart = makeChart("tempChart","Temperature","°C");
const voltChart = makeChart("voltChart","Voltage","V");
const presChart = makeChart("presChart","Pressure","hPa");

let t = 0;

/* ===== SIMULATION ===== */
setInterval(()=>{

    updateTime();
    t++;

    let altitude = 120 + Math.sin(t/4)*25;
    let temperature = 29 + Math.sin(t/6)*2;
    let voltage = 7.4 + Math.sin(t/8)*0.15;
    let pressure = 1013 - altitude*0.1;

    document.getElementById("altitude").innerText =
        altitude.toFixed(1)+" m";

    document.getElementById("temperature").innerText =
        temperature.toFixed(1)+" °C";

    document.getElementById("voltage").innerText =
        voltage.toFixed(2)+" V";

    document.getElementById("pressure").innerText =
        pressure.toFixed(1)+" hPa";

    updateChart(altChart,altitude);
    updateChart(tempChart,temperature);
    updateChart(voltChart,voltage);
    updateChart(presChart,pressure);

},1000);

/* ===== UPDATE GRAPH ===== */
function updateChart(chart,val){
    chart.data.labels.push("");
    chart.data.datasets[0].data.push(val);

    if(chart.data.labels.length>20){
        chart.data.labels.shift();
        chart.data.datasets[0].data.shift();
    }

    chart.update();
}

</script>

</body>
</html>
